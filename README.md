# EScrimHub 要件定義書（v0.1）

## 1. 文書概要

* システム名：**EScrimHub**
* バージョン：v0.1（ドラフト）
* 対象読者：

  * プロダクトオーナー
  * 開発者 / テスター
  * インフラ担当
  * デザイナー

---

## 2. システム概要

### 2.1 コンセプト

EScrimHub は、LoL / Valorant などの対戦ゲームにおける

* 「大会運営（オーガナイザー）」
* 「プレイヤー / チーム」
* 「サイト管理者」

をつなぐ **大会運営・募集・管理プラットフォーム**である。

特に以下を重視する。

* 個人主催の小規模大会〜中規模オンライン大会を想定
* Day1 リーグ戦 → Day2 以降のトーナメントなど、**複数ステージ構成の大会**に対応
* Valorant の **マップ BAN / PICK ツール**を提供（単体利用も可能）
* 将来的に LoL 以外のゲーム（Splatoon, スマブラ等）にも拡張可能な設計

### 2.2 提供価値

* オーガナイザー：

  * テンプレから大会を簡単に作成・複製
  * 募集ページ、参加管理、対戦表をブラウザ完結で管理
* プレイヤー / チーム：

  * 自分のゲームプロフィール（ランクなど）を登録
  * 公開大会を探して参加応募
* サイト管理者：

  * サイト全体のユーザー / 大会 / 通報の管理
  * 広告や今後の収益化施策のベース

---

## 3. スコープ

### 3.1 本リリース（MVP）のスコープ

* Web ブラウザ向けアプリケーション（PC 前提）
* 対応ゲーム：

  * **League of Legends（LoL）**
  * **Valorant**
  * 将来追加を見据えた「ゲームマスタデータ」設計
* 主な機能：

  * アカウント管理（ローカルアカウント / Google ログイン）
  * ロール管理（プレイヤー / 大会運営者 / サイト管理者 / スタッフ）
  * プレイヤー / チーム登録・プロフィール管理
  * 大会作成（リーグ / トーナメントステージ、最大 Day5 くらいまで）
  * 大会募集ページの公開 / 非公開設定
  * 大会へのエントリー受付・承認
  * 試合日程・結果登録
  * Valorant マップ BAN / PICK ツール（大会と紐づけ / 単体利用）
  * 大会履歴・バージョンのコピー / 新規作成

### 3.2 今回スコープ外（将来候補）

* 決済機能（参加費徴収 / 賞金移管など）
* Riot API を用いたランク自動取得の本格実装（Phase2 候補）
* Discord の Bot 連携による自動アナウンス（MVP では Webhook ベース程度にとどめる）
* スマホ専用 UI / ネイティブアプリ
* 多言語対応（MVP は日本語のみ想定）

---

## 4. 用語定義（簡易）

* プレイヤー：ゲームをプレイし大会に参加するユーザー
* チーム：複数プレイヤーで構成される単位。リーダーが 1 名想定
* オーガナイザー：大会を作成・運営するユーザー
* サイト管理者：サービス全体を管理するユーザー（サイトアドミン / サイトスタッフを含む）
* ステージ：大会における一つのフェーズ（例：Day1 リーグ、Day2 トーナメント）
* リーグ：総当たり形式のステージ
* トーナメント：シングルエリミネーションなどの勝ち抜き形式
* マップ BAN / PICK：Valorant などで行われるマップの禁止 / 選択

---

## 5. アクターとロール

### 5.1 アクター

* プレイヤー

  * チームメンバー
  * チームリーダー（リーダー機能を持つ）
  * Discord 連携機能（任意）
  * Riot 連携機能（将来拡張）
* 大会運営者（オーガナイザー）
* システム管理者

  * サイトアドミン
  * サイトスタッフ

### 5.2 ロールと権限（概要）

| ロール     | 主な権限概要                      |
| ------- | --------------------------- |
| プレイヤー   | プロフィール編集, チーム参加/作成, 大会エントリー |
| チームリーダー | チーム管理, メンバー招待/承認            |
| 大会運営者   | 大会作成/編集, 募集管理, 試合結果入力       |
| サイトアドミン | 全データ管理, ユーザーBAN, 大会削除       |
| サイトスタッフ | 一部管理業務の補助（通報対応など）           |

---

## 6. 機能要件（概要）

### 6.1 アカウント・認証（ACC）

* ACC-01: ローカルアカウント登録/ログイン
* ACC-02: ロール管理（ユーザーとロールの紐づけ）
* ACC-03: プロフィール編集（表示名, アイコン, 自己紹介など）
* ACC-04: パスワードリセット（メール）
* ACC-05: アカウント削除（論理削除）
* ACC-06: Google ログイン（OAuth2）

### 6.2 プレイヤー / チーム管理（PLY）

* PLY-01: プレイヤープロフィール登録（ゲーム別ランク, 得意ロールなど）
* PLY-02: チーム作成（リーダーが作成）
* PLY-03: チームメンバー招待 / 参加承認
* PLY-04: チーム脱退
* PLY-05: チームプロフィール編集（チーム名, ロゴ, 紹介文）

### 6.3 大会管理（TMT）

* TMT-01: 大会作成

  * タイトル, 説明文, ゲームタイトル, 最大チーム数, 日程など
* TMT-02: 公開範囲設定

  * 公開 / 非公開 / URL 限定
* TMT-03: ステージ（Stage）構成設定

  * Day1〜Day5 まで任意の組み合わせ（リーグ / トーナメント）
* TMT-04: 参加募集設定

  * 募集開始・終了日時, 募集条件（ランク帯, チーム数制限）
* TMT-05: エントリー受付・承認

  * チーム / 個人（ゲームによる）
* TMT-06: 試合テーブル自動生成

  * リーグ戦の対戦組み合わせ生成
  * トーナメント表生成（シングルエリミ想定）
* TMT-07: 試合結果登録 / 編集
* TMT-08: 大会コピー機能

  * 既存大会をコピーして新規大会作成
  * または「新バージョン」として履歴を紐づけて作成

### 6.4 Valorant マップ BAN / PICK（VMP）

* VMP-01: マップBAN/PICK セッション作成

  * 単体利用 or 大会の特定試合に紐づけ
* VMP-02: マップ一覧表示（ゲームマスタデータから取得）
* VMP-03: BAN/PICK の手順設定（例：BO1/BO3 など）
* VMP-04: BAN/PICK 操作（両チームが操作できる UI）
* VMP-05: 結果ログの保存・閲覧

### 6.5 管理者機能（ADM）

* ADM-01: ユーザー一覧/検索/ロール変更
* ADM-02: 大会一覧/検索/強制終了/削除
* ADM-03: 通報対応（スパム/不正行為など）
* ADM-04: サイト全体設定（メンテナンスモードなど）

---

## 7. 非機能要件（ラフ）

* パフォーマンス

  * 同時オンラインユーザー数：ひとまず数百人規模を想定
* セキュリティ

  * パスワードはハッシュ化して保存
  * OAuth2（Google ログイン）対応
  * 管理系画面はロールベースアクセス制御（RBAC）
* 可用性

  * 開発初期はシングルリージョン / シングルサーバ構成想定
* 拡張性

  * ゲームタイトルを追加しやすいゲームマスタ設計
  * ステージ種別（例：スイスドロー, ダブルエリミ）追加を見据える

---

## 8. 今後詰めるべき項目（TODO）

* 詳細なユースケース定義（アクター別ストーリー）

  * Valorant 大会ストーリー（Day1 リーグ → Day2 トナメ）
  * LoL 大会ストーリー
* 画面一覧・画面遷移図との対応（画面 ID と機能 ID の対応表）
* DB 設計（テーブル一覧 / ER 図）との対応
* Riot / Discord 連携の詳細要件（Phase2 以降）

---

以上。
